{% extends "layout.html" %}
{% block content %}

<section class="section">
    <div class="columns">
        <div class="column is-half">
            <nav class="panel">
                <p class="panel-heading">Your party<p>
                {% for g in guests %}
                    {% if (g.guest_group == current_user.email) or (g.email == current_user.email) %}
                        <div class="panel-block">
                            <a href={{ url_for('edit_guest', guest_id=g.id) }}>
                                {{ g.name }}
                            </a>
                            {% if (g != current_user) and (g.guest_group == current_user.email) %}
                                <a class="delete ml-2" data-guest-route={{ url_for('delete_guest', guest_id=g.id) }}></a>
                            {% endif %}        
                        </div>
                    {% else %}
                        <a class="panel-block">{{ g.name }}</a>
                    {% endif %}
                    
                {% endfor %}
                <div class="panel-block">
                    <a class="button" href={{ url_for('add_guest') }}>Add Guest</a>
                </div>    
            </nav>
        </div>
    </div>
                
    <div class="field">
        <div class="control">
            <a class="button is-dark" href={{ url_for('home') }}>Done</a>
        </div>
    </div>

    <div class="modal">
      <div class="modal-background"></div>
      <div class="modal-content">
        <div class="box content has-text-centered">
            <p>Are you sure you want to delete this guest?</p>
            <a class="button is-dark" id="confirm-delete">Yes</a>
        </div>
      </div>
      <button class="modal-close is-large" aria-label="close"></button>
    </div>

</section>

<script src={{url_for('static', filename='guests.js')}}> </script>
    
{% endblock content %}